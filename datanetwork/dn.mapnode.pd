#N canvas 730 0 456 656 10;
#X obj 23 334 cnv 15 400 300 empty empty FUNCTIONS 20 12 1 18 -232576
-66577 0;
#N canvas 0 22 298 201 Data_Through 0;
#X obj 22 17 cnv 15 120 150 empty empty Data_Thru 20 12 0 14 -233017
-66577 0;
#X obj 35 107 prepend dummyarg;
#X obj 35 52 r \$0_inputList;
#X obj 35 131 s \$0_send;
#X obj 52 77 r \$0_dataPrep;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 4 0 1 0;
#X restore 296 392 pd Data_Through;
#N canvas 332 132 559 268 Error 0;
#X obj 78 21 cnv 15 120 120 empty empty Error 20 12 0 14 -233017 -66577
0;
#X text 82 108 need to defer?;
#X obj 87 69 route /register;
#X obj 216 115 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 87 47 r \$0_/error;
#X obj 211 49 route /add/expected;
#X obj 353 49 route /remove/node;
#X obj 397 93 route /subscribe/node;
#X obj 216 148 s \$0_init;
#X obj 305 182 s \$0_remove;
#X obj 396 158 s \$0_register;
#X obj 288 230 s \$0_addExpected;
#X obj 397 128 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 352 82 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X connect 2 0 3 0;
#X connect 2 1 5 0;
#X connect 4 0 2 0;
#X connect 5 1 6 0;
#X connect 6 0 13 0;
#X connect 6 1 7 0;
#X connect 12 0 10 0;
#X restore 367 511 pd Error;
#N canvas 588 41 539 632 Destroy_On_Close 1;
#X obj 18 13 cnv 15 200 200 empty empty Destructor 20 12 0 14 -233017
-66577 0;
#X obj 41 109 i;
#X obj 41 161 prepend /remove/node 6010;
#X obj 85 87 r \$0_nodeID;
#X obj 41 183 s \$0_send;
#X obj 80 111 r \$0_nodeName;
#X obj 41 136 prepend;
#X obj 41 39 closebang;
#X obj 74 61 dn.freeclear;
#X obj 88 340 r \$0_nodeName;
#X obj 34 340 prepend;
#X obj 57 275 r \$0_nodeID;
#X obj 98 295 r \$0_minibeeID;
#X obj 41 83 spigot;
#X obj 34 362 prepend /unmap/minibee/output 6010;
#X obj 33 385 s \$0_send;
#X obj 34 316 pack f f;
#X connect 1 0 6 0;
#X connect 2 0 4 0;
#X connect 3 0 1 1;
#X connect 5 0 6 1;
#X connect 6 0 2 0;
#X connect 7 0 13 0;
#X connect 8 0 13 1;
#X connect 9 0 10 1;
#X connect 10 0 14 0;
#X connect 11 0 16 0;
#X connect 12 0 16 1;
#X connect 13 0 1 0;
#X connect 13 0 16 0;
#X connect 14 0 15 0;
#X connect 16 0 10 0;
#X restore 46 457 pd Destroy_On_Close;
#N canvas 0 22 450 300 Network_Announced 0;
#X obj 39 26 cnv 15 200 150 empty empty Announcement 20 12 0 14 -233017
-66577 0;
#X obj 59 76 r \$0_/datanetwork/announce;
#X obj 59 107 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 59 136 s \$0_init;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X restore 41 390 pd Network_Announced;
#N canvas 159 22 561 673 Initialize_and_Register 0;
#X obj 48 39 cnv 15 500 700 empty empty Init_and_register 20 12 0 14
-228856 -66577 0;
#X obj 161 114 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 346 97 r dn.node;
#X obj 85 97 loadbang;
#X obj 200 181 dn.netport;
#X obj 161 157 t a a;
#X obj 161 205 zl join;
#X obj 161 134 pv dn-host;
#X text 226 133 host IP address;
#X obj 161 90 r \$0_init;
#X obj 346 125 s \$0_init;
#X obj 62 589 zl reg;
#X obj 107 465 prepend /register 6010;
#X obj 62 722 prepend /add/expected 6010;
#X obj 74 655 prepend set /set/data 6010;
#X obj 107 442 zl reg;
#X obj 74 612 int;
#X obj 107 489 s \$0_send;
#X obj 62 745 s \$0_/add/expected;
#X obj 140 422 r \$0_nodeName;
#X obj 105 540 r \$0_numSlots;
#X obj 95 519 r \$0_nodeID;
#X obj 95 561 pack f f;
#X obj 74 678 s \$0_dataPrep;
#X obj 116 700 r \$0_nodeName;
#X obj 62 700 prepend;
#X obj 128 633 r \$0_nodeName;
#X obj 74 633 prepend;
#X obj 161 228 prepend connect;
#X obj 161 250 s \$0_connect;
#X obj 131 252 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 62 520 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 289 655 PREP FOR DATA SENDING FORMAT;
#X text 277 723 FINALLY ADD EXPECTED;
#X obj 164 285 r \$0_nodeID;
#X obj 131 398 s \$0_send;
#X obj 203 305 r \$0_nodeName;
#X obj 164 330 prepend;
#X obj 164 355 prepend set /remove/node 6010;
#X msg 131 376 /remove/node 6010 PdClient 500;
#X obj 107 400 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 85 128 delay 500;
#X obj 58 300 r \$0_remove;
#X obj 44 345 r \$0_register;
#X obj 175 493 r \$0_addExpected;
#X text 288 230 CONNECT TO THE NETWORK;
#X text 351 339 REMOVE THE NODE TO BE SURE;
#X text 294 468 REGISTER ON THE NET;
#X obj 57 419 delay 1000;
#X obj 23 554 delay 1000;
#X obj 103 804 r \$0_nodeName;
#X obj 49 804 prepend;
#X obj 49 826 prepend /map/minibee/output 6010;
#X obj 255 753 r \$0_nodeID;
#X obj 265 774 r \$0_minibeeID;
#X obj 190 778 zl reg;
#X obj 255 795 pack f f;
#X obj 49 849 s \$0_send;
#X connect 1 0 7 0;
#X connect 2 0 10 0;
#X connect 2 0 1 0;
#X connect 3 0 41 0;
#X connect 4 0 6 1;
#X connect 5 0 6 0;
#X connect 5 1 4 0;
#X connect 6 0 28 0;
#X connect 7 0 5 0;
#X connect 9 0 1 0;
#X connect 11 0 16 0;
#X connect 11 0 25 0;
#X connect 12 0 17 0;
#X connect 12 0 31 0;
#X connect 13 0 18 0;
#X connect 14 0 23 0;
#X connect 15 0 12 0;
#X connect 16 0 27 0;
#X connect 19 0 15 1;
#X connect 20 0 22 1;
#X connect 21 0 22 0;
#X connect 22 0 11 1;
#X connect 24 0 25 1;
#X connect 25 0 13 0;
#X connect 26 0 27 1;
#X connect 27 0 14 0;
#X connect 28 0 29 0;
#X connect 28 0 30 0;
#X connect 30 0 40 0;
#X connect 31 0 49 0;
#X connect 34 0 37 0;
#X connect 36 0 37 1;
#X connect 37 0 38 0;
#X connect 38 0 39 0;
#X connect 39 0 35 0;
#X connect 39 0 40 0;
#X connect 40 0 48 0;
#X connect 41 0 1 0;
#X connect 42 0 39 0;
#X connect 43 0 40 0;
#X connect 44 0 31 0;
#X connect 48 0 15 0;
#X connect 49 0 11 0;
#X connect 49 0 55 0;
#X connect 50 0 51 1;
#X connect 51 0 52 0;
#X connect 52 0 57 0;
#X connect 53 0 56 0;
#X connect 54 0 56 1;
#X connect 55 0 51 0;
#X connect 56 0 55 1;
#X restore 40 368 pd Initialize_and_Register;
#N canvas 583 256 450 300 Handle_Unregistered_Message 0;
#X obj 172 93 cnv 15 130 120 empty empty Unregistered 20 12 0 14 -233017
-66577 0;
#X obj 179 154 sel 6010;
#X obj 179 128 r \$0_/unregistered;
#X obj 179 188 s \$0_init;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X restore 42 411 pd Handle_Unregistered_Message;
#N canvas 0 22 450 300 Ping_Pong 0;
#X obj 154 87 cnv 15 150 150 empty empty Ping/Pong 20 12 0 14 -233017
-66577 0;
#X obj 170 135 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 170 113 r \$0_/ping;
#X obj 203 135 r \$0_nodeName;
#X obj 170 184 prepend /pong 6010;
#X obj 170 160 symbol;
#X obj 170 206 s \$0_send;
#X connect 1 0 5 0;
#X connect 2 0 1 0;
#X connect 3 0 5 1;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X restore 297 367 pd Ping_Pong;
#N canvas 0 22 272 225 Send_Messages_To_OSC 0;
#X obj -95 -99 cnv 15 130 150 empty empty Send_Messages 20 12 0 14
-261234 -66577 0;
#X obj -65 -42 prepend send;
#X obj -65 12 sendOSC;
#X obj -65 -65 r \$0_send;
#X obj -55 -16 r \$0_connect;
#X connect 1 0 2 0;
#X connect 3 0 1 0;
#X connect 4 0 2 0;
#X restore 158 606 pd Send_Messages_To_OSC;
#N canvas 17 284 389 159 Print_To_Terminal 0;
#X obj 99 97 print MAKENODE_\$0;
#X obj 100 57 route /pong;
#X obj 100 22 r \$0_send;
#X obj 19 21 r \$0_connect;
#X obj 231 60 r \$0_print;
#X connect 1 1 0 0;
#X connect 2 0 1 0;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X restore 295 531 pd Print_To_Terminal;
#X obj 23 27 cnv 15 400 300 empty empty INPUTS_AND_VARIABLES 20 12
1 18 -204800 -66577 0;
#N canvas 228 545 709 183 Receive_Messages_From_OSC 0;
#X obj 9 6 cnv 15 650 150 empty empty Receive_Messages 20 12 0 14 -261234
-66577 0;
#X obj 26 52 s senseworld.local;
#X obj 26 74 r senseworld.local;
#X obj 157 101 route /error;
#X obj 247 101 route /datanetwork/announce;
#X obj 561 101 route /ping;
#X obj 427 101 route /unregistered;
#X text 197 63 Joseph Malloch & Thibodeau / IDMIL 2009 / www.idmil.org
;
#X obj 157 122 s \$0_/error;
#X obj 247 121 s \$0_/datanetwork/announce;
#X obj 427 121 s \$0_/unregistered;
#X obj 561 122 s \$0_/ping;
#X obj 26 30 dumpOSC 6010;
#X obj 26 101 route /removed/node;
#X obj 27 123 s \$0_/removed/node;
#X connect 2 0 13 0;
#X connect 3 0 8 0;
#X connect 3 1 4 0;
#X connect 4 0 9 0;
#X connect 4 1 6 0;
#X connect 5 0 11 0;
#X connect 6 0 10 0;
#X connect 6 1 5 0;
#X connect 12 0 1 0;
#X connect 13 0 14 0;
#X connect 13 1 3 0;
#X restore 139 136 pd Receive_Messages_From_OSC;
#N canvas 573 199 613 402 Creation_Arguments 0;
#X obj 12 -18 cnv 15 320 110 empty empty Creation_Arguments 20 12 0
14 -204786 -66577 0;
#X obj 18 145 s \$0_nodeName;
#X obj 135 125 s \$0_nodeID;
#X obj 209 125 s \$0_numSlots;
#X obj 209 101 int \$2;
#X text 197 66 trig for list creation;
#X obj 102 20 r \$0_init;
#X obj 18 21 loadbang;
#X text 168 19 Creation args are re-asserted when the object is created.
;
#X obj 19 78 pv dn-clientName;
#X obj 135 101 int \$1;
#X obj 19 110 symbol;
#X obj 135 69 t b b b;
#X obj 322 99 int \$3;
#X obj 322 123 s \$0_minibeeID;
#X text 124 163 Arguments: node id \, # of slots \, minibee id;
#X connect 4 0 3 0;
#X connect 6 0 9 0;
#X connect 6 0 12 0;
#X connect 7 0 9 0;
#X connect 7 0 12 0;
#X connect 9 0 11 0;
#X connect 10 0 2 0;
#X connect 11 0 1 0;
#X connect 12 0 10 0;
#X connect 12 1 4 0;
#X connect 12 2 13 0;
#X connect 13 0 14 0;
#X restore 31 109 pd Creation_Arguments;
#X obj 157 61 inlet;
#X obj 256 62 inlet;
#N canvas 0 22 349 115 Global_Arguments 0;
#X obj 14 12 cnv 15 160 60 empty empty Global_Arguments 20 12 0 14
-204786 -66577 0;
#X text 23 41 [dn.node] [pv dn-host];
#X text 37 55 [pv dn-clientName];
#X restore 287 106 pd Global_Arguments;
#N canvas 0 22 352 172 Dynamic_Inputs 0;
#X obj 15 10 cnv 15 300 130 empty empty Inputs 20 12 0 14 -204786 -66577
0;
#X obj 18 41 inlet;
#X obj 18 112 s \$0_inputList;
#X obj 18 85 zl slice;
#X obj 63 63 r \$0_numSlots;
#X text 72 85 ensure proper list size;
#X text 56 40 Input 1: list of data;
#X obj 220 45 inlet;
#X text 213 26 Input 2: re-init;
#X obj 220 118 s \$0_init;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 7 0 9 0;
#X restore 157 85 pd Dynamic_Inputs;
#N canvas 657 81 469 397 All_Sends_And_Receives 0;
#X obj 271 79 r \$0_/error;
#X obj 263 97 r \$0_/datanetwork/announce;
#X obj 272 116 r \$0_/unregistered;
#X text 136 8 VARIABLE REPOSITORY;
#X obj 53 75 r \$0_nodeName;
#X obj 54 95 r \$0_numSlots;
#X obj 61 123 r \$0_nodeID;
#X text 53 48 creation args;
#X text 258 39 messages from server;
#X obj 277 136 r \$0_/ping;
#X text 294 186 inputs;
#X obj 273 212 r \$0_inputList;
#X obj 48 218 s \$0_send;
#X text 19 178 internal routing;
#X obj 282 231 r \$0_init;
#X obj 36 263 s \$0_dataPrep;
#X obj 24 195 s \$0_register;
#X obj 30 285 s \$0_connect;
#X obj 26 306 s \$0_allowReg;
#X obj 251 60 r \$0_/removed/node;
#X obj 36 327 s \$0_print;
#X obj 132 281 r \$0_remove;
#X obj 124 306 r \$0_register;
#X obj 22 240 s \$0_/add/expected;
#X obj 126 333 r \$0_addExpected;
#X obj 63 147 r \$0_minibeeID;
#X restore 148 237 pd All_Sends_And_Receives;
#X text 39 -7 !!!! The parent patcher must have an object called "pv
dn-host <IP of host>" !!!!;
#N canvas 582 113 235 306 Handle_Node_Removed 0;
#X obj -1 14 cnv 15 150 200 empty empty Node_Removal 20 12 0 14 -233017
-66577 0;
#X obj 10 77 zl nth 2;
#N canvas 290 491 226 277 match? 0;
#X obj 49 58 inlet;
#X obj 72 205 outlet;
#X obj 111 58 inlet;
#X obj 72 118 ==;
#X obj 72 145 sel 1;
#X obj 72 174 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X connect 0 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X restore 10 105 pd match?;
#X obj 10 149 zl reg;
#X obj 71 75 r \$0_nodeID;
#X obj 10 174 s \$0_send;
#X obj 26 126 r \$0_/add/expected;
#X obj 9 50 r \$0_/removed/node;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 2 1;
#X connect 6 0 3 0;
#X connect 7 0 1 0;
#X restore 43 433 pd Handle_Node_Removed;
#X connect 13 0 16 0;
#X connect 14 0 16 1;
